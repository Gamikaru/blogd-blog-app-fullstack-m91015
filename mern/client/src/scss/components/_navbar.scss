@import "../abstracts/variables"; // Import global variables
@import "../abstracts/mixins"; // Import centralized mixins
@import "../abstracts/functions"; // Import utility functions
@import "../base/_typography"; // Ensure typography styles are included

// Navbar Header with Frosted Glass Effect
.nav-header {
   position: fixed;
   top: 0;
   left: 0;
   right: 0;
   height: $navbar-height;
   z-index: 1000;
   display: flex;
   align-items: center;
   justify-content: space-between;
   background: rgba(255, 255, 255, 0.086); // Transparent background
   backdrop-filter: blur(10px); // Apply frosted glass effect
   -webkit-backdrop-filter: blur(10px); // Safari support
   box-shadow: $box-shadow-light; // Light shadow for depth
   padding: 0 $spacing-l;
   @include transition-all(0.3s, ease-in-out); // Smooth transitions
}

// Navbar Container
.navbar {
   width: 100%;
   display: flex;
   align-items: center;
   justify-content: flex-start; // Align items from the left
   padding: 0 $spacing-xl;

   .sidebar-toggle {
      order: 1;
      border: none;
      color: $primary-purple;
      font-size: 2rem;
      cursor: pointer;
      margin-left: $spacing-s;
      margin-right: $spacing-l;
      @include transition-all(0.3s); // Smooth color transition
      background-color: transparent;

      &:hover {
         color: $charcoal-light;
      }

      &:focus {
         box-shadow: none;
      }

      @media (max-width: $breakpoint-sm) {
         margin-left: $spacing-s;
         font-size: 1.8rem;
      }
   }

   // Logo in the center with responsive scaling
   .navbar-logo {
      order: 2;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      width: 40vh;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-left: auto;
      margin-right: auto;

      img {
         width: 100%;
         height: auto;
         object-fit: cover;
         object-position: center;
      }

      @media (max-width: $breakpoint-sm) {
         width: 160px; // Adjust logo size for smaller screens
      }
   }

   // Navbar Buttons
   .navbar-buttons {
      display: flex;
      align-items: center;
      gap: $spacing-m;
      order: 3;
      margin-left: auto;

      .post-button {
         @include button-base($primary-purple, $white, darken($primary-purple, 10%), $border-radius);
         text-transform: uppercase;
         font-weight: $font-weight-regular;

         &:hover {
            box-shadow: 0 4px 12px rgba($primary-purple-dark, 0.2);
         }

         @media (max-width: $breakpoint-md) {
            font-size: $font-size-small;
            padding: $spacing-s $spacing-m;
         }
      }
   }
}

// Post Button and Dropdown - Optimized for Small Screens
.post-button,
.dropdown-toggle {
   @include button-base($primary-purple, $white, darken($primary-purple, 5%), $border-radius);
   text-transform: uppercase;
   font-weight: $font-weight-regular;
   font-size: $font-size-base; // Ensure both buttons have the same base font size
   padding: $spacing-s $spacing-m; // Ensure consistent padding for both buttons

   &:hover {
      box-shadow: 0 4px 12px rgba($primary-purple-dark, 0.3);
   }

   @media (max-width: $breakpoint-md) {
      font-size: $font-size-small; // Consistent font size for small screens
      padding: $spacing-s $spacing-m;
   }
}

// Dropdown Container
.dropdown-container {
   position: relative;

   .dropdown-toggle {
      @include button-base($primary-purple, $white, darken($primary-purple, 5%), $border-radius);
      font-weight: $font-weight-regular; // Keep bold to match Post button
      font-size: $font-size-base; // Match the Post button font size
      letter-spacing: 1px;
      text-transform: uppercase;
      cursor: pointer;
      display: inline-flex;
      align-items: center; // Ensure the text and icon are vertically aligned

      &:hover {
         box-shadow: 0 4px 12px rgba($primary-purple, 0.3);
      }

      // Fix the dropdown icon issue
      &::after {
         font-size: $font-size-small; // Adjust the icon size
         margin-left: $spacing-s;
         display: inline-block; // Make sure the icon is inline with the text
         transform: translateY(1px); // Align it properly vertically with the text
         transition: transform 0.3s ease;
      }

      &.show::after {
         transform: rotate(180deg) translateY(1px); // Rotate the dropdown icon when active
      }
   }

   .dropdown-menu {
      position: absolute;
      top: 100%;
      right: 0;
      width: 200px;
      padding: $spacing-s 0;
      background-color: $white;
      border-radius: $border-radius-small;
      box-shadow: $box-shadow-light;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      @include transition-all(0.3s, ease-in-out);

      &.show {
         opacity: 1;
         visibility: visible;
         transform: translateY(0);
      }

      .dropdown-item {
         padding: $spacing-s $spacing-m;
         font-size: $font-size-base;
         color: $charcoal;
         cursor: pointer;
         @include transition-all(0.3s, ease-in-out);

         &:hover {
            background-color: $primary-purple;
            color: $white;
         }

         &::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: $primary-purple;
            @include transition-all(0.3s, ease-in-out);
         }

         &:hover::after {
            width: 100%;
         }
      }
   }
}

// Media Queries for Dropdown and Buttons
@media (max-width: $breakpoint-md) {
   .post-button,
   .dropdown-toggle {
      font-size: $font-size-small;
      padding: $spacing-s $spacing-m;
   }

   .dropdown-menu {
      width: 100%;
   }
}

// Media Queries for Responsiveness
@media (max-width: $breakpoint-md) {
   .navbar-logo {
      width: 180px; // Adjusted logo size for medium screens
   }

   .sidebar-toggle {
      font-size: 1.6rem;
   }

   .navbar-buttons {
      gap: $spacing-s;
   }
}

@media (max-width: $breakpoint-sm) {
   .navbar {
      padding: 0 $spacing-s;
   }

   .navbar-logo {
      width: 140px;
   }

   .sidebar-toggle {
      font-size: 1.4rem;
   }

   .navbar-buttons {
      gap: $spacing-s;
   }
}
