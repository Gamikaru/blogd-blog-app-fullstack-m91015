@import "../abstracts/variables"; // Import global variables
@import "../abstracts/mixins"; // Import centralized mixins
@import "../abstracts/functions"; // Import utility functions
@import "../base/_typography"; // Ensure typography styles are included

// Navbar Header with Frosted Glass Effect
.nav-header {
   position: fixed;
   top: 0;
   left: 0;
   right: 0;
   height: $navbar-height;
   z-index: 1000;
   display: flex;
   align-items: center;
   justify-content: space-between;
   background: rgba(255, 255, 255, 0.2); // Transparent background
   backdrop-filter: blur(10px); // Apply frosted glass effect
   -webkit-backdrop-filter: blur(10px); // Safari support
   border-bottom: 1px solid rgba(255, 255, 255, 0.18); // Optional frosted border
   box-shadow: $box-shadow-light; // Light shadow for depth
   padding: 0 $spacing-large;
   @include transition-all(0.3s, ease-in-out); // Smooth transitions

   // Apply dark background when scrolling
   &.scrolled {
      background-color: $primary-purple-dark;
      transition: background-color 0.3s ease;
   }
}

// Navbar Container
.navbar {
   @include flex-container(space-between, center); // Use flexbox for layout
   width: 100%;

   .sidebar-toggle {
      order: 1;
      background: none;
      border: none;
      color: $primary-purple;
      font-size: 2rem;
      cursor: pointer;
      margin-left: $spacing-extra-large;
      @include transition-all(0.3s); // Smooth color transition

      &:hover {
         color: $charcoal-light;
      }

      &:focus {
         box-shadow: none;
      }

      @media (max-width: $breakpoint-sm) {
         margin-left: $spacing-small;
         font-size: 1.8rem;
      }
   }

   // Logo in the center with responsive scaling
   .navbar-logo {
      order: 2;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      width: 200px;
      display: flex;
      justify-content: center;
      align-items: center;

      img {
         width: 100%;
         height: auto;
         object-fit: cover;
         object-position: center;
      }

      @media (max-width: $breakpoint-sm) {
         width: 160px; // Adjust logo size for smaller screens
      }
   }

   // Navbar Buttons
   .navbar-buttons {
      order: 3;
      @include flex-container(flex-start, center);
      gap: $spacing-medium;
      margin-left: auto;
      margin-right: $spacing-medium;

      @media (max-width: $breakpoint-md) {
         gap: $spacing-small;
      }
   }
}

// Post Button and Dropdown - Optimized for Small Screens
.post-button,
.dropdown-toggle {
   @include button-base($primary-purple, $white, darken($primary-purple, 5%), $border-radius);

   @media (max-width: $breakpoint-md) {
      font-size: $font-size-small;
      padding: $spacing-small $spacing-medium;
   }
}

// Dropdown Menu - Frosted Glass and Modern Styling
.dropdown-menu {
   @include dropdown-base($white, $primary-purple-light, $charcoal, $white);
   backdrop-filter: blur(10px); // Frosted glass effect
   -webkit-backdrop-filter: blur(10px); // Support for Safari
   opacity: 0;
   visibility: hidden;
   transform: translateY(-10px);
   @include transition-all(0.3s, ease-in-out);

   &.show {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
   }

   // Dropdown Item Styling
   .dropdown-item {
      @include font-default($font-size-base, $font-weight-regular, $font-primary); // Matching font styling
      color: $charcoal;
      padding: $spacing-small $spacing-medium;
      @include transition-all(0.3s, ease-in-out);

      &:hover {
         background-color: $primary-purple;
         color: $white;
         box-shadow: 0 6px 12px rgba($electric-violet, 0.6);
      }

      &.active {
         background-color: $primary-purple;
         color: $white;
      }

      &::after {
         content: "";
         position: absolute;
         bottom: 0;
         left: 0;
         width: 0;
         height: 2px;
         background-color: $primary-purple;
         @include transition-all(0.3s, ease-in-out);
      }

      &:hover::after {
         width: 100%;
      }
   }
}

// Responsive Dropdown Styling for Small Screens
@media (max-width: $breakpoint-md) {
   .dropdown-menu {
      width: 100%; // Adjust dropdown width for smaller screens
      left: 0;
   }

   .dropdown-item {
      padding: $spacing-small $spacing-medium;
      font-size: $font-size-small;
   }
}

@media (max-width: $breakpoint-sm) {
   .dropdown-menu {
      width: 100vw; // Full-width dropdown on small screens
      left: 0;
      right: 0;
      top: $navbar-height;
   }

   .dropdown-item {
      padding: $spacing-small;
      font-size: $font-size-small;
   }
}

// Media Queries for Responsiveness
@media (max-width: $breakpoint-md) {
   .navbar-logo {
      width: 180px; // Adjusted logo size for medium screens
   }

   .sidebar-toggle {
      font-size: 1.6rem;
   }

   .navbar-buttons {
      gap: $spacing-small;
   }
}

@media (max-width: $breakpoint-sm) {
   .navbar {
      padding: 0 $spacing-small;
   }

   .navbar-logo {
      width: 140px;
   }

   .sidebar-toggle {
      font-size: 1.4rem;
   }

   .navbar-buttons {
      gap: $spacing-small;
   }
}
