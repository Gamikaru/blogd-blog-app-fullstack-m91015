@import "../variables"; // Import centralized variables for colors, spacing, etc.
@import "../functions"; // Import utility functions for calculations and operations
@import "../placeholders"; // Import placeholder styles for reuse

// --------------------
// Component Mixins
// --------------------

// Button Mixin (modularized for better control and consistency)
@mixin button-base(
   $bg-color: $primary-purple,
   $text-color: $white,
   $hover-bg-color: darken($bg-color, 10%),
   $border-radius: $border-radius,
   $font-family: $font-primary,
   $font-weight: $font-weight-regular,
   $padding: $spacing-xs $spacing-m,
   $font-size: $font-size-small,
   $text-transform: uppercase,
   $letter-spacing: 1.5px,
   $box-shadow: $box-shadow-light,
   $transition-duration: 0.3s, // Ensure smooth transitions for hover states
   $width: 100%
) {
   background-color: $bg-color;
   color: $text-color;
   padding: $padding;
   font-family: $font-family;
   font-weight: $font-weight;
   font-size: $font-size;
   border: none;
   border-radius: $border-radius;
   text-transform: $text-transform;
   letter-spacing: $letter-spacing;
   cursor: pointer;
   box-shadow: $box-shadow;
   transition:
      background-color $transition-duration ease,
      box-shadow $transition-duration ease;

   &:hover {
      background-color: $hover-bg-color;
      box-shadow: $box-shadow-medium; // Add shadow elevation on hover
   }

   &:disabled {
      background-color: $disabled-gray;
      cursor: not-allowed;
   }
}

// Card Mixin
@mixin card-base(
   $bg-color: $white,
   // Background color of the card
   $box-shadow: $box-shadow-light,
   // Box shadow for the card
   $padding: $spacing-s,
   // Padding inside the card
   $border-radius: $border-radius // Border radius for rounded corners
) {
   background-color: $bg-color; // Set the background color
   box-shadow: $box-shadow; // Apply box shadow
   border-radius: $border-radius; // Apply border radius for rounded corners
   padding: $padding; // Apply padding inside the card
   transition: box-shadow 0.3s ease; // Smooth transition for box shadow

   &:hover {
      box-shadow: 0 8px 16px rgba($primary-purple, 0.2); // Violet glow on hover
   }
}

// Form Mixin
@mixin form-base(
   $gap: $spacing-m,
   // Space between form fields
   $max-width: 100%,
   // Maximum width of the form
   $padding: $spacing-xs,
   // Padding inside the form container
   $background-color: $white,
   // Background color of the form container
   $border-radius: $border-radius,
   // Rounded corners for the form container
   $field-bg-color: $white,
   // Background color for individual form fields
   $field-font-size: $font-size-small,
   // Font size for text inside form fields
   $field-border-radius: $border-radius,
   // Rounded corners for form fields
   $field-padding: $spacing-s $spacing-l,
   // Padding inside form fields
   $field-margin-bottom: $spacing-xs // Space below each form field
) {
   background-color: $background-color;
   padding: $padding;
   border-radius: $border-radius;
   max-width: $max-width;
   display: flex;
   flex-direction: column;
   gap: $gap;
   transition:
      background-color 0.3s ease,
      box-shadow 0.3s ease;

   // Grid layout for form fields
   .form-row {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: $gap;

      @media (max-width: $breakpoint-md) {
         grid-template-columns: 1fr; // Switch to a single column layout on smaller screens
      }
   }

   // Individual form field styling
   .form-control {
      background-color: $field-bg-color;
      border-radius: $field-border-radius;
      padding: $field-padding;
      font-size: $field-font-size;
      font-family: $font-tertiary;
      color: $charcoal;
      width: 100%;
      transition:
         box-shadow 0.3s ease,
         border-color 0.3s ease;
      text-align: left;

      // Default shadow
      box-shadow: inset 0 1px 3px rgba($charcoal-light, 0.2); // Light default shadow

      &:hover {
         box-shadow: 0 0 5px rgba($charcoal, 0.4); // Charcoal glow on hover
      }

      &:focus {
         box-shadow: 0 0 8px rgba($primary-purple, 0.5); // Violet glow on focus
         outline: none;
      }

      &::placeholder {
         color: rgba($charcoal-light, 0.5);
         font-family: $font-tertiary; // Font for placeholder text
         text-overflow: ellipsis; // Show ellipsis for overflowing placeholder text
         opacity: 1;
      }
   }
}

// Modal Mixin
@mixin modal-base(
   $bg-color: rgba($light-gray, 0.1),
   $backdrop-blur: 2px,
   $webkit-backdrop-blur: 10px,
   $padding: $spacing-m,
   $max-width: 100vw,
   $max-height: 100vh,
   $animation: fadeIn 0.4s ease-in-out,
   $zIndex: 3000
) {
   @include flex-container(
      $justify: space-between,
      $align: center,
      $direction: column
   ); // Ensure it's vertically aligned

   background-color: $bg-color; // Semi-transparent background
   backdrop-filter: blur($backdrop-blur); // Blur effect for the background
   -webkit-backdrop-filter: blur($webkit-backdrop-blur); // Safari support for blur effect
   animation: $animation; // Fade-in animation
   max-width: $max-width; // Max width of modal
   max-height: $max-height; // Max height of modal
   width: 100%; // Allow flexibility but maintain structure
   margin: 0 auto; // Center the modal horizontally
   padding: $padding; // Apply padding

   // Default modal body style
   .modal-body {
      padding: $padding;
      background-color: $charcoal-extra-light;
      border-radius: $border-radius;
      overflow-y: auto; // Enable scrolling for long content
      max-height: 75vh; // Allow scrolling at 75% of viewport height
      transition: all 0.3s ease-in-out;
   }

   // Responsive for small screens
   @media (max-width: $breakpoint-sm) {
      .modal-body {
         max-height: none;
      }
   }

   // Optional modal header styling
   .modal-header {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: $padding;
      background-color: $primary-purple;
      color: $white;
      position: relative;

      .modal-title {
         font-family: $font-primary;
         font-size: 2rem;
         font-weight: $font-weight-regular;
         letter-spacing: 0.2rem;
         text-align: center;
      }

      .close-button {
         position: absolute;
         top: 50%;
         right: $spacing-l;
         transform: translateY(-50%);
         font-size: 1.5rem;
         color: $white;
         cursor: pointer;
         transition: all 0.3s ease-in-out;

         &:hover {
            color: lighten($white, 20%);
         }
      }
   }

   // Optional modal footer styling
   .modal-footer {
      display: flex;
      justify-content: center;
      background-color: $charcoal-extra-light;
      margin-top: $spacing-s;
   }

   .modal-submit-btn {
      @include button-base(
         $bg-color: $primary-purple,
         $text-color: $white,
         $hover-bg-color: darken($primary-purple, 10%),
         $border-radius: $border-radius,
         $font-weight: $font-weight-regular,
         $padding: 0.75rem 1rem,
         $font-size: 1.1rem,
         $text-transform: uppercase,
         $letter-spacing: 2px,
         $width: auto
      );
      max-width: 200px;
      font-size: 1.3rem;
   }
}

// Table Mixin
@mixin table-base(
   $bg-color: $white,
   $border-color: $light-gray,
   $header-bg-color: $primary-purple-light,
   $header-text-color: $charcoal,
   $padding: $spacing-s
) {
   width: 100%;
   border-collapse: collapse;
   background-color: $bg-color;
   border: 1px solid $border-color;

   th,
   td {
      padding: $padding;
      border: 1px solid $border-color;
   }

   th {
      background-color: $header-bg-color;
      color: $header-text-color;
   }

   tr:nth-child(even) {
      background-color: lighten($bg-color, 5%);
   }
}

// Table Padding Mixin
@mixin table-padding($padding) {
   padding: $padding;
}
