// Sidebar Container
.sidebar {
    position: fixed;
    left: 0;
    top: 5rem;
    width: $sidebar-width;
    height: 22vh;
    background-color: transparent;
    padding-inline: $spacing-md;
    opacity: 0;
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    overflow-y: auto;
    z-index: get-z-index(modal); // Ensure it's below the modal

    &.open {
        opacity: 1;
        transform: translateY(0);
        animation: slideInFromTop 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;

        .sidebar-content {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0.2s;
        }
    }

    &:not(.open) {
        animation: slideOutToBottom 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }

    .sidebar-content {
        opacity: 0;
        transform: translateY(-20px);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        display: flex;
        flex-direction: column;
        gap: $spacing-xl;
        padding-top: $spacing-xl;
        padding-left: $spacing-md;

        .button {
            width: 80%;
            max-width: 100%;
            padding: map-get($button-padding, md);
            display: flex;
            align-items: center;
            gap: $spacing-sm;
            font-weight: 500;
            border-radius: $button-border-radius;
            transition: all 0.2s ease;

            .icon {
                font-size: 1.1rem;
            }

            &:hover {
                transform: translateY(-1px);
                box-shadow: $box-shadow-medium;
            }
        }

        .account-options {
            display: flex;
            flex-direction: column;
            gap: $spacing-md;
            margin-top: auto;
            padding-top: $spacing-lg;

            .button {
                justify-content: flex-start;
                background-color: transparent;
                box-shadow: none;
                color: $primary-text-color;
                padding: $spacing-sm $spacing-md;

                &:hover {
                    background-color: fade-color($accent-color-2, 0.1);
                    transform: none;
                    box-shadow: none;
                }

                &.button-delete {
                    color: $error-color;

                    &:hover {
                        background-color: fade-color($error-color, 0.05);
                    }
                }
            }
        }
    }
}

// Animations
@keyframes slideInFromTop {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideOutToBottom {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(20px);
    }
}
