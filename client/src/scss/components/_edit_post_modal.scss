@import "../abstracts/variables"; // For colors, spacing, etc.
@import "../abstracts/mixins"; // For mixins
@import "../base/animations"; // For animations

// Edit Post Modal Container
.edit-post-modal-container {
   @include flex-container(
      $justify: space-between,
      $align: center,
      $direction: column
   ); // Ensure it's vertically aligned
   background-color: rgba($light-gray, 0.1); // Semi-transparent background
   backdrop-filter: blur(2px); // Blur effect for the background
   -webkit-backdrop-filter: blur(10px); // Safari support for blur effect
   animation: fadeIn 0.4s ease-in-out; // Fade-in animation
   max-width: 100vw; // Increased width of the modal
   max-height: 100vh; // Increased height of the modal
   width: 100%; // Allow it to be flexible but not too small
   margin: 0 auto; // Center the modal horizontally
   padding: $spacing-m; // Add padding for content

   .edit-post-modal-header {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: $spacing-m;
      background-color: $primary-purple;
      color: $white;
      position: relative;

      .edit-post-modal-title {
         font-family: $font-primary;
         font-size: 2rem;
         font-weight: $font-weight-regular;
         letter-spacing: 0.2rem;
         text-align: center;
      }

      .close-button {
         position: absolute;
         top: 50%;
         right: $spacing-l;
         transform: translateY(-50%);
         font-size: 1.5rem;
         color: $white;
         cursor: pointer;
         transition: all 0.3s ease-in-out;

         &:hover {
            color: lighten($white, 20%);
         }
      }
   }

   .edit-post-modal-body {
      padding: $spacing-m;
      background-color: $charcoal-extra-light;
      border-radius: $border-radius;
      overflow-y: auto; // Allow scrolling for long content
      max-height: 75vh; // Limit body height but allow growing until 75% of viewport height
      transition: all 0.3s ease-in-out;

      @media (max-width: $breakpoint-sm) {
         max-height: none;
      }
   }

   .edit-post-form {
      @include form-base;
      background-color: $charcoal-extra-light;
      color: $charcoal;
      flex-grow: 1; // Allow the form to take available vertical space

      .edit-post-textarea {
         padding: $spacing-s;
         border-radius: $border-radius;
         border: 1px solid $light-gray;
         font-size: 1rem;
         color: $charcoal;
         min-height: 150px; // Increased minimum height for the textarea
         max-height: 400px; // Allow the textarea to grow up to 400px before scrolling
         resize: vertical; // Allow users to manually resize vertically
         overflow-y: auto; // Enable vertical scrolling inside textarea
         word-wrap: break-word; // Ensure long words wrap properly
         flex-grow: 1; // Ensure the textarea takes up the available vertical space
         overflow-wrap: break-word; // Wrap long words to the next line
         white-space: normal;
      }

      // Optional word count indicator
      .word-count {
         margin-top: $spacing-s;
         font-size: 0.875rem;
         color: $charcoal-light;
         text-align: right;
      }
   }

   .edit-post-modal-submit-container {
      display: flex;
      justify-content: center;
      background-color: $charcoal-extra-light;
      margin-top: $spacing-s;
   }

   .edit-post-submit-btn {
      @include button-base(
         $bg-color: $primary-purple,
         $text-color: $white,
         $hover-bg-color: darken($primary-purple, 10%),
         $border-radius: $border-radius,
         $font-weight: $font-weight-regular,
         $padding: 0.75rem 1rem,
         $font-size: 1.1rem,
         $text-transform: uppercase,
         $letter-spacing: 2px,
         $width: auto
      );
      max-width: 200px;
      font-size: 1.3rem;
   }
}
